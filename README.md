# YouTube Preview Assistant

Мини-приложение на FastAPI для быстрой проверки превью YouTube-канала, оценки CTR и генерации новых идей через Gemini.

## Возможности
- Принимает ссылку на канал вида `https://www.youtube.com/channel/<ID>`.
- Забирает последние ролики, выводит превью и эвристику CTR на основе статистики (просмотры/лайки/комментарии).
- Кнопка «Перегенерировать через Gemini» отправляет заголовок и описание в Gemini и возвращает текстовую идею + эскиз (плейсхолдер либо генерация, если есть API ключи).

## Требования
- Python 3.11+
- Переменные окружения:
- `YOUTUBE_API_KEY` — ключ YouTube Data API v3 (нужен только для считывания данных).
  - `GEMINI_API_KEY` — ключ Google AI Studio для текстовых/изобразительных подсказок (опционален, но желателен).

## Запуск
```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```
Откройте `http://localhost:8000` и вставьте ссылку на канал.

## Заметки
- CTR рассчитывается как эвристика (лайки + 0.5 * комментарии / просмотры) × 1200 и ограничивается 0-100.
- Если `GEMINI_API_KEY` не указан, показывается плейсхолдер изображение и напоминание про ключ.
- Генерация эскизов через Imagen 3 выполняется «по лучшей попытке»: при недоступности сервиса остаётся плейсхолдер.
